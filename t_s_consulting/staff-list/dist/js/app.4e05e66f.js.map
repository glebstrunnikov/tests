{"version":3,"file":"js/app.4e05e66f.js","mappings":"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","sources":["webpack://staff-list/./src/components/layout/TheHeader.vue","webpack://staff-list/./src/components/layout/TheHeader.vue?d0d0","webpack://staff-list/./src/components/layout/TheFooter.vue","webpack://staff-list/./src/components/layout/TheFooter.vue?df60","webpack://staff-list/./src/components/table/BaseLine.vue","webpack://staff-list/./src/components/table/BaseLine.vue?2f75","webpack://staff-list/./src/components/table/DataTable.vue","webpack://staff-list/./src/components/table/DataTable.vue?c197","webpack://staff-list/./src/components/modal/TheModal.vue","webpack://staff-list/./src/components/modal/TheModal.vue?4d2f","webpack://staff-list/./src/components/modal/DataForm.vue","webpack://staff-list/./src/components/modal/DataForm.vue?9e87","webpack://staff-list/./src/components/modal/DeleteWarning.vue","webpack://staff-list/./src/components/modal/DeleteWarning.vue?cb81","webpack://staff-list/./src/dummy_data.js","webpack://staff-list/./src/App.vue","webpack://staff-list/./src/App.vue?7ccd","webpack://staff-list/./src/main.js","webpack://staff-list/webpack/bootstrap","webpack://staff-list/webpack/runtime/chunk loaded","webpack://staff-list/webpack/runtime/compat get default export","webpack://staff-list/webpack/runtime/define property getters","webpack://staff-list/webpack/runtime/global","webpack://staff-list/webpack/runtime/hasOwnProperty shorthand","webpack://staff-list/webpack/runtime/jsonp chunk loading","webpack://staff-list/webpack/startup"],"sourcesContent":["<template>\r\n  <nav class=\"navbar p-2 bg-dark d-flex justify-content-center\">\r\n    <h2 class=\"text-light text-center\">Staff List</h2>\r\n  </nav>\r\n</template>\r\n","import { render } from \"./TheHeader.vue?vue&type=template&id=1b391534\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <footer class=\"bg-dark-subtle\">\r\n    <div class=\"my-4 ms-5\">\r\n      <p class=\"m-0\">© Gleb Strunnikov 2023</p>\r\n      <a href=\"mailto:glebstrunnikov@gmail.com\"\r\n        ><p>glebstrunnikov@gmail.com</p></a\r\n      >\r\n    </div>\r\n  </footer>\r\n</template>\r\n","import { render } from \"./TheFooter.vue?vue&type=template&id=63ac71ae\"\nconst script = {}\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <!-- компонент получает данные из одного объекта общего массива. Он же передает при помощи emit id строки при нажатии на карандаш/крест -->\r\n  <tr>\r\n    <th scope=\"row\">{{ props.id }}</th>\r\n    <td>{{ props.firstName }}</td>\r\n    <td>{{ props.lastName }}</td>\r\n    <td>{{ props.experience }} years</td>\r\n    <td>{{ props.age }} years</td>\r\n    <td>{{ props.address }}</td>\r\n    <td>\r\n      <span class=\"hover\" @click=\"editLine(props.id)\">✏️</span>\r\n      <span class=\"hover\" @click=\"deleteLine(props.id)\">❌</span>\r\n    </td>\r\n  </tr>\r\n</template>\r\n\r\n<script setup>\r\nconst emit = defineEmits([\"deleteLine\", \"editLine\"]);\r\nfunction deleteLine(id) {\r\n  emit(\"deleteLine\", id);\r\n}\r\nfunction editLine(id) {\r\n  emit(\"editLine\", id);\r\n}\r\n\r\nconst props = defineProps([\r\n  \"id\",\r\n  \"firstName\",\r\n  \"lastName\",\r\n  \"experience\",\r\n  \"age\",\r\n  \"address\",\r\n]);\r\n</script>\r\n\r\n<style scoped>\r\n.hover:hover {\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import script from \"./BaseLine.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BaseLine.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BaseLine.vue?vue&type=style&index=0&id=5e234b18&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5e234b18\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"m-5 table-responsive\">\r\n    <table class=\"table align-middle table-bordered\">\r\n      <!-- Статичный заголовок таблицы -->\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">#</th>\r\n          <th scope=\"col\">First Name</th>\r\n          <th scope=\"col\">Last Name</th>\r\n          <th scope=\"col\">Experience</th>\r\n          <th scope=\"col\">Age</th>\r\n          <th scope=\"col\">Address</th>\r\n          <th scope=\"col\">Edit/Delete</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <!-- Строки таблицы. Id - номер строки, он же номер объекта в массиве данных -->\r\n        <BaseLine\r\n          v-for=\"(el, index) in staff\"\r\n          :key=\"index\"\r\n          :id=\"index\"\r\n          :firstName=\"el.firstName\"\r\n          :lastName=\"el.lastName\"\r\n          :experience=\"el.experience\"\r\n          :age=\"el.age\"\r\n          :address=\"el.address\"\r\n          @deleteLine=\"deleteLine\"\r\n          @editLine=\"editLine\"\r\n        ></BaseLine>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport BaseLine from \"./BaseLine.vue\";\r\nimport { inject } from \"vue\";\r\n// Данные принимаются сюда через inject, а потом таблица строится через v-for с использованием props-ов. Также этот компонент принимает от дочерних и передает в App.vue id объекта в массиве данных, который надо удалить/редактировать.\r\nconst staff = inject(\"staff\");\r\nconst emit = defineEmits([\"deleteLine\", \"editLine\"]);\r\nfunction deleteLine(id) {\r\n  emit(\"deleteLine\", id);\r\n}\r\nfunction editLine(id) {\r\n  emit(\"editLine\", id);\r\n}\r\n</script>\r\n","import script from \"./DataTable.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DataTable.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <!-- Полупрозрачный ovelay, который развернут на весь экран, и контейнера для формы или предупреждения перед удалением. Клик на контейнер ничего не делает (@mousedown.stop предотвращает event bubbling), а вот на сам оверлей - вызывает функцию hideOverlay, которая через emit передает сигнал в App.vue закрыть модальник  -->\r\n  <div @mousedown=\"hideOverlay\" id=\"overlay\">\r\n    <div class=\"container\">\r\n      <div @mousedown.stop class=\"card mx-auto my-5\" style=\"max-width: 30rem\">\r\n        <!-- slot, на место которого, в зависимости от modalHead, встает либо DataForm, либо DeleteWarning -->\r\n        <slot></slot>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nconst emit = defineEmits([\"hideOverlay\"]);\r\nfunction hideOverlay() {\r\n  emit(\"hideOverlay\");\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#overlay {\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  z-index: 1;\r\n}\r\n</style>\r\n","import script from \"./TheModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TheModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TheModal.vue?vue&type=style&index=0&id=57cbb5db&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-57cbb5db\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"card-header pt-3\">\r\n    <!-- Шапка модальника, напоминает пользователю, что он тут делает -->\r\n    <h4>{{ modalHead }}</h4>\r\n  </div>\r\n  <div class=\"card-body\">\r\n    <!-- Форма для редактирования данных -->\r\n    <form @submit.prevent=\"saveData\">\r\n      <input\r\n        v-model=\"personOfInterest.firstName\"\r\n        type=\"text\"\r\n        class=\"form-control mb-2\"\r\n        placeholder=\"First Name\"\r\n      />\r\n      <input\r\n        v-model=\"personOfInterest.lastName\"\r\n        type=\"text\"\r\n        class=\"form-control mb-2\"\r\n        placeholder=\"Last Name\"\r\n      />\r\n      <div class=\"input-group\">\r\n        <input\r\n          v-model=\"personOfInterest.experience\"\r\n          type=\"number\"\r\n          class=\"form-control mb-2\"\r\n          placeholder=\"Experience\"\r\n        />\r\n        <span class=\"input-group-text mb-2\">experience, years</span>\r\n      </div>\r\n      <div class=\"input-group\">\r\n        <input\r\n          v-model=\"personOfInterest.age\"\r\n          type=\"number\"\r\n          class=\"form-control mb-2\"\r\n          placeholder=\"Age\"\r\n        />\r\n        <span class=\"input-group-text mb-2\">age, years</span>\r\n      </div>\r\n\r\n      <input\r\n        v-model=\"personOfInterest.address\"\r\n        type=\"text\"\r\n        class=\"form-control mb-2\"\r\n        placeholder=\"Address\"\r\n      />\r\n      <div class=\"float-end\">\r\n        <!-- Кнопка Save сохраняет введенные данные в соответствующем объекте массива -->\r\n        <button\r\n          :disabled=\"!formIsValid\"\r\n          type=\"submit\"\r\n          class=\"btn btn-success my-2\"\r\n        >\r\n          <h5>Save</h5>\r\n        </button>\r\n        <!-- Кнопка Cancel закрывает модальник без сохранения. Точно так же, как и клик вне формы -->\r\n        <div @click=\"modalClose\" class=\"btn btn-info ms-3 my-2\">\r\n          <h5>Cancel</h5>\r\n        </div>\r\n      </div>\r\n    </form>\r\n    <div class=\"p-2\" v-if=\"!formIsValid\">\r\n      Name, age and address must be present\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { inject, reactive, ref, watch } from \"vue\";\r\nconst modalClose = inject(\"modalClose\");\r\nconst staff = inject(\"staff\");\r\nconst id = inject(\"personOfInterest\");\r\nconst saveData = inject(\"saveData\");\r\nconst modalHead = inject(\"modalHead\");\r\n// personOfInterest в данном случае - не id, как в App.vue, а реактивный объект, значение которого зависит от данных и переданного сюда id\r\nconst personOfInterest = reactive(staff.value[id.value]);\r\n\r\n// Вся логика, относящаяся к данным, вынесена в компонент App.vue. Этот компонент только получает данные из массива и вызывает функции, полученные через inject. Единственное исключение - данные, которые относятся непосредственно к форме. Все просто: при каждом изменении любого свойства personOfInterest запускается вотчер, который проверяет его свойства простейшим валидатором (есть имя, фамилия и адрес, возраст не равен нулю) и если результат неудовлетворителен, блокирует кнопку Save. Здесь же прописан ограничитель, не позволяющий указать отрицательный возраст или опыт работы\r\nconst formIsValid = ref(modalHead.value === \"Add Person\" ? false : true);\r\nwatch(personOfInterest, () => {\r\n  if (\r\n    !personOfInterest.firstName ||\r\n    !personOfInterest.lastName ||\r\n    !personOfInterest.age ||\r\n    !personOfInterest.address\r\n  ) {\r\n    formIsValid.value = false;\r\n  } else {\r\n    formIsValid.value = true;\r\n  }\r\n  console.log(personOfInterest.age < 0);\r\n  personOfInterest.age < 0 ? (personOfInterest.age = 0) : personOfInterest.age;\r\n  personOfInterest.experience < 0\r\n    ? (personOfInterest.experience = 0)\r\n    : personOfInterest.experience;\r\n});\r\n</script>\r\n","import script from \"./DataForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DataForm.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"card-header pt-3\">\r\n    <!-- Шапка модальника, напоминает пользователю, что он тут делает -->\r\n    <h4>{{ modalHead }}</h4>\r\n  </div>\r\n  <div class=\"card-body\">\r\n    <!-- Текст с именем и фамилией выбранного сотрудника, чтобы пользователь понимал, кого удаляет -->\r\n    <h6>\r\n      Are you sure you want to delete {{ personOfInterest.firstName }}\r\n      {{ personOfInterest.lastName }}?\r\n    </h6>\r\n    <div class=\"float-end\">\r\n      <!-- Кнопка Delete вызывает функцию из App.vue, которая удаляет из массива выбранный объект -->\r\n      <div @click=\"confirmDelete(id)\" class=\"btn btn-success my-2\">\r\n        <h5>Delete</h5>\r\n      </div>\r\n      <!-- Кнопка Close закрывает модальник, не трогая массив данных -->\r\n      <div @click=\"modalClose\" class=\"btn btn-info ms-3 my-2\">\r\n        <h5>Cancel</h5>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { inject, reactive } from \"vue\";\r\nconst modalClose = inject(\"modalClose\");\r\nconst modalHead = inject(\"modalHead\");\r\nconst staff = inject(\"staff\");\r\nconst id = inject(\"personOfInterest\");\r\nconst confirmDelete = inject(\"confirmDelete\");\r\nconst personOfInterest = reactive(staff.value[id.value]);\r\n// здесь нет почти ничего интересного, компонент собран как упрощенная версия DataForm.vue. Принимает через inject те же данные, но обладает другим template-ом, вызывает функцию confirmDelete\r\n</script>\r\n","import script from \"./DeleteWarning.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DeleteWarning.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","const staff = [\r\n  {\r\n    firstName: \"Jack\",\r\n    lastName: \"Sparrow\",\r\n    experience: 15,\r\n    age: 32,\r\n    address: \"Tortuga, Pushkin st. 20-10\",\r\n  },\r\n  {\r\n    firstName: \"John\",\r\n    lastName: \"Silver\",\r\n    experience: 30,\r\n    age: 45,\r\n    address: \"London, Stevenson ave 10-16\",\r\n  },\r\n  {\r\n    firstName: \"Edward\",\r\n    lastName: \"Teach\",\r\n    experience: 22,\r\n    age: 38,\r\n    address: \"Ocracoke, 1st st. 1\",\r\n  },\r\n  {\r\n    firstName: \"Henry\",\r\n    lastName: \"Morgan\",\r\n    experience: 38,\r\n    age: 56,\r\n    address: \"Jamaica, Main st. 4\",\r\n  },\r\n];\r\n\r\nexport default staff;\r\n","<template>\n  <div class=\"d-flex flex-column min-vh-100\">\n    <!-- Компонент хедера, простой и без логики, находится в папке overlay -->\n    <the-header></the-header>\n    <!-- Компонент таблицы, в котором отображаются данные. Каждая строка - дочерний компонент. И то, и другое - в папке table -->\n    <data-table\n      @deleteLine=\"deletePerson\"\n      @editLine=\"editPerson\"\n      :staff=\"data\"\n    ></data-table>\n    <!-- Кнопка для добавления записи, настолько проста, что не стал даже в отдельный компонент выделять -->\n    <div @click=\"addPerson\" class=\"btn btn-success\" style=\"align-self: center\">\n      <h3>Add Person</h3>\n    </div>\n    <!-- Простой компонент футера, в папке layout -->\n    <the-footer class=\"mt-auto\"></the-footer>\n    <!-- Компонент модальнка, при вызове перекрывает весь экран полупрозрачным оверлеем, содержит слот для вывода собственно модального окна с интерфейсом редактирования записи или предупреждением о ее удалении -->\n    <the-modal @hideOverlay=\"modalClose\" v-if=\"modalActive\">\n      <delete-warning v-if=\"modalHead === 'Delete Person'\"></delete-warning>\n      <data-form\n        v-if=\"modalHead === 'Add Person' || modalHead === 'Edit Person'\"\n      ></data-form>\n    </the-modal>\n  </div>\n</template>\n\n<script setup>\nimport TheHeader from \"./components/layout/TheHeader.vue\";\nimport TheFooter from \"./components/layout/TheFooter.vue\";\nimport DataTable from \"./components/table/DataTable.vue\";\nimport TheModal from \"./components/modal/TheModal.vue\";\nimport DataForm from \"./components/modal/DataForm.vue\";\nimport DeleteWarning from \"./components/modal/DeleteWarning.vue\";\nimport { ref, provide } from \"vue\";\n\n// Модальное окно используется для редактирования данных сотрудника или ввода нового, а также для подтверждения удаления. По умолчанию оно скрыто, показывается, если modalActive=true\nconst modalActive = ref(false);\n// Импортируем данные: если они есть по нужному ключу в localStorage, то они и используется, если их там нет, то подгружается dummy\nimport dummyData from \"./dummy_data\";\nconst importedData = localStorage.getItem(\"staff\")\n  ? JSON.parse(localStorage.getItem(\"staff\"))\n  : dummyData;\nconst data = ref(importedData);\nprovide(\"staff\", data);\n// modalHead - переменная, которая определяет, что будет в заголовке у модального окна. Также она используется в компонентах внутри модальника, чтобы определить тип окна\nconst modalHead = ref();\nprovide(\"modalHead\", modalHead);\n// при каждом открытии модальника данные сохраняются в localStorage. Это делается для того, чтобы если пользователь их модифицировал, но вышел без сохранения, откатить изменения\nfunction modalOpen() {\n  modalActive.value = true;\n  localStorage.setItem(\"staff\", JSON.stringify(data.value));\n}\n// при закрытии модальника данные, наоборот, берутся из localStorage\nfunction modalClose() {\n  modalActive.value = false;\n  data.value = JSON.parse(localStorage.getItem(\"staff\"));\n}\n// функция saveData используется, чтобы сохранить данные в localStorage при их сохранении пользователем. Потом вызывается modalClose\nfunction saveData() {\n  localStorage.setItem(\"staff\", JSON.stringify(data.value));\n  modalClose();\n}\nprovide(\"modalOpen\", modalOpen);\nprovide(\"modalClose\", modalClose);\nprovide(\"saveData\", saveData);\n\n// personOfInterest - это id записи из таблицы, которую требуется удалить/редактировать. Это число появляется, когда соответствующий компонент (строка, BasicLine.vue) передает значение через emit в компонент таблицы DataTable.vue, а тот таким же образом - сюда. Далее, имея этот id, мы модифицируем данные data, а они автоматически меняются во всех остальных компонентах, так как передаются отсюда в виде ref через provide\nconst personOfInterest = ref();\nprovide(\"personOfInterest\", personOfInterest);\n// editPerson и deletePerson отличаются только заголовком модальника. Но исходя из этого заголовка отображается тот или иной тип модальника: редактирование данных или предупреждение об удалении\nfunction editPerson(id) {\n  modalHead.value = \"Edit Person\";\n  personOfInterest.value = id;\n  modalOpen();\n}\nfunction deletePerson(id) {\n  personOfInterest.value = id;\n  modalHead.value = \"Delete Person\";\n  modalOpen();\n}\n// при открытии предупреждения об удалении есть две кнопки. При нажатии на одну из них мы вырезаем из массива данных нужный объект и сохраняем этот массив в localStorage. Это работает по функции confirmDelete, которую мы передаем в DeleteWarning через provide. Если же пользователь просто закрывает модальник, то ничего не происходит.\nfunction confirmDelete(id) {\n  data.value.splice(id, 1);\n  localStorage.setItem(\"staff\", JSON.stringify(data.value));\n  modalClose();\n}\nprovide(\"confirmDelete\", confirmDelete);\n\n// добавление записи в целом работает так же, как и ее редактирование, только мы вначале добавляем к массиву данных пустой объект, а потом принимаем id (personOfInterest) в виде последнего объекта в нем\nfunction addPerson() {\n  modalHead.value = \"Add Person\";\n  modalOpen();\n  data.value.push({\n    firstName: \"\",\n    lastName: \"\",\n    experience: 0,\n    age: 0,\n    address: \"\",\n  });\n  personOfInterest.value = data.value.length - 1;\n}\n</script>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport \"bootstrap/dist/css/bootstrap.css\";\n\ncreateApp(App).mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkstaff_list\"] = self[\"webpackChunkstaff_list\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(877); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","_createElementVNode","_hoisted_2","_createElementBlock","_hoisted_1","_hoisted_3","script","__exports__","render","href","deleteLine","id","emit","editLine","staff","inject","hideOverlay","modalClose","saveData","modalHead","personOfInterest","reactive","value","formIsValid","ref","watch","firstName","lastName","age","address","console","log","experience","confirmDelete","modalActive","importedData","localStorage","getItem","JSON","parse","dummyData","data","provide","modalOpen","setItem","stringify","editPerson","deletePerson","splice","addPerson","push","length","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","key","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","e","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}